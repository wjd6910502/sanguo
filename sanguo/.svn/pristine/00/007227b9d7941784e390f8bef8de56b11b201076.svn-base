<?xml version="1.0" encoding="ISO-8859-1"?>

<commands>
	<command name="GetVersion" maxsize="1024" type="1" receiver="gamed"/>
	<command name="GetVersion_Re" type="2" receiver="client">
		<variable name="version" type="number"/>
		<variable name="cmd_version" type="number"/>
		<variable name="data_version" type="number"/>
	</command>

	<command name="GetRoleInfo" maxsize="1024" type="3" receiver="gamed"/>
	<command name="GetRoleInfo_Re" type="4" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="info" type="RoleInfo"/>
	</command>

	<command name="CreateRole" maxsize="1024" type="5" receiver="gamed">
		<variable name="name" type="string"/>
		<variable name="photo" type="number"/>
	</command>
	<command name="CreateRole_Re" type="6" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="info" type="RoleInfo"/>
	</command>

	<command name="EnterInstance" maxsize="1024" type="7" receiver="gamed">
		<variable name="inst_tid" type="number"/>
		<variable name="heros" type="number" vector="true"/>
		<variable name="req_heros" type="number" vector="true"/>
	</command>
	<command name="EnterInstance_Re" type="8" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="inst_tid" type="number"/>
		<variable name="seed" type="number"/>
	</command>

	<command name="CompleteInstance" maxsize="819200" type="9" receiver="gamed">
		<variable name="inst_tid" type="number"/>
		<variable name="flag" type="number"/>
		<variable name="score" type="number"/>
		<variable name="heros" type="number" vector="true"/>
		<variable name="req_heros" type="number" vector="true"/>
		<variable name="operations" type="PVEOperation" vector="true"/>
		<variable name="star" type="Instance_Star_Condition" vector="true"/>
	</command>
	<command name="CompleteInstance_Re" type="10" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="inst_tid" type="number"/>
		<variable name="score" type="number"/>
		<variable name="star" type="number"/>
		<variable name="rewards" type="SweepInstanceData"/>
		<variable name="first_flag" type="number"/>
	</command>

	<command name="SyncRoleInfo" type="11" receiver="client">
	</command>

	<command name="OPStat" maxsize="1024" type="12" receiver="gamed">
		<variable name="opset_count" type="number"/>
		<variable name="op_count" type="number"/>
	</command>

	<command name="SweepInstance" maxsize="1024" type="100" receiver="gamed">
		<variable name="instance" type="number"/>
		<variable name="count" type="number"/>
	</command>
	<command name="SweepInstance_Re" type="101" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="info" type="SweepInstanceData" vector="true"/>
		<variable name="info2" type="SweepInstanceData"/>
	</command>
	
	<command name="GetBackPack" maxsize="1024" type="102" receiver="gamed">
	</command>
	<command name="GetBackPack_Re" type="103" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="info" type="Item" vector="true"/>
		<variable name="weaponitems" type="WeaponItem" vector="true"/>
	</command>
	
	<command name="GetInstance" maxsize="1024" type="104" receiver="gamed">
	</command>
	<command name="GetInstance_Re" type="105" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="info" type="InstanceInfo" vector="true"/>
	</command>

	<command name="Role_Mon_Exp" type="106" receiver="client">
		<variable name="level" type="number"/>
		<variable name="exp" type="string"/>
		<variable name="money" type="number"/>
		<variable name="yuanbao" type="number"/>
		<variable name="vp" type="number"/>
	</command>
	
	<command name="BuyVp" maxsize="1024" type="107" receiver="gamed">
	</command>
	<command name="BuyVp_Re" type="108" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="num" type="number"/>
	</command>
	
	<command name="BuyInstanceCount" maxsize="1024" type="109" receiver="gamed">
		<variable name="inst_tid" type="number"/>
	</command>
	<command name="BuyInstanceCount_Re" type="110" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="RoleCommonLimit" type="111" receiver="client">
		<variable name="tid" type="number"/>
		<variable name="count" type="number"/>
	</command>
	
	<command name="ChongZhi_Re" type="114" receiver="client">
		<variable name="chongzhi" type="number"/>
	</command>
	
	<command name="TaskFinish" maxsize="1024" type="115" receiver="gamed">
		<variable name="task_id" type="number"/>
	</command>
	<command name="TaskFinish_Re" type="116" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="task_id" type="number"/>
		<variable name="rewards" type="SweepInstanceData"/>
	</command>
	
	<command name="Task_Condition" type="117" receiver="client">
		<variable name="tid" type="number"/>
		<variable name="condition" type="Condition" vector="true"/>
	</command>

	<command name="Client_User_Define" maxsize="1024" type="118" receiver="gamed">
		<variable name="user_key" type="number"/>
		<variable name="user_value" type="string"/>
	</command>
	
	<command name="BuyHero" maxsize="1024" type="119" receiver="gamed">
		<variable name="tid" type="number"/>
		<variable name="typ" type="number"/>
	</command>
	<command name="BuyHero_Re" type="120" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="HeroList_Re" type="121" receiver="client">
		<variable name="hero_hall" type="RoleHero"/>
	</command>
	
	<command name="UseItem" maxsize="1024" type="122" receiver="gamed">
		<variable name="tid" type="number"/>
		<variable name="hero_id" type="number"/>
		<variable name="count" type="number"/>
	</command>
	
	<command name="AddHero" type="123" receiver="client">
		<variable name="hero_hall" type="RoleHero"/>
		<variable name="flag" type="number"/>
	</command>
	
	<command name="UpdateHeroInfo" type="124" receiver="client">
		<variable name="hero_hall" type="RoleHero"/>
	</command>

	<command name="UseItem_Re" type="125" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<command name="One_Level_Up" maxsize="1024" type="126" receiver="gamed">
		<variable name="hero_id" type="number"/>
		<variable name="item" type="Item" vector="true"/>
	</command>
	<command name="One_Level_Up_Re" type="127" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="Hero_Up_Grade" maxsize="1024" type="128" receiver="gamed">
		<variable name="hero_id" type="number"/>
	</command>
	<command name="Hero_Up_Grade_Re" type="129" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="ErrorInfo" type="130" receiver="client">
		<variable name="error_id" type="number"/>
	</command>
	
	<command name="BuyHorse" maxsize="1024" type="131" receiver="gamed">
		<variable name="tid" type="number"/>
		<variable name="typ" type="number"/>
	</command>
	<command name="BuyHorse_Re" type="132" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="AddHorse" type="133" receiver="client">
		<variable name="horse" type="RoleHorse"/>
	</command>
	
	<command name="GetLastHero" maxsize="1024" type="134" receiver="gamed">
	</command>
	<command name="GetLastHero_Re" type="135" receiver="client">
		<variable name="info" type="number" vector="true"/>
	</command>
	
	<command name="PvpJoin" maxsize="1024" type="136" receiver="gamed">
		<variable name="typ" type="number"/>
		<variable name="heroinfo" type="number" vector="true"/>
	</command>
	<command name="PvpJoin_Re" type="137" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="time" type="number"/>
	</command>
	
	<command name="PvpMatchSuccess" type="138" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="index" type="number"/>
	</command>
	
	<command name="PvpEnter" maxsize="1024" type="139" receiver="gamed">
		<variable name="index" type="number"/>
		<variable name="flag" type="number"/>
	</command>
	
	<command name="PvpEnter_Re" type="140" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="player1" type="RoleClientPVPInfo"/>
		<variable name="player2" type="RoleClientPVPInfo"/>
		<variable name="N" type="number"/>
		<variable name="mode" type="number"/>
		<variable name="p2p_magic" type="number"/>
		<variable name="p2p_peer_ip" type="string"/>
		<variable name="p2p_peer_port" type="number"/>
	</command>
	
	<command name="PvpCancle" maxsize="1024" type="141" receiver="gamed">
	</command>
	
	<command name="PvpCancle_Re" type="142" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="PvpSpeed" maxsize="1024" type="143" receiver="gamed,client">
		<variable name="speed" type="number"/>
	</command>
	
	<command name="ResetRoleInfo" maxsize="1024" type="144" receiver="gamed">
	</command>
	
	<command name="SendNotice" type="145" receiver="client">
		<variable name="notice_id" type="number"/>
		<variable name="notice_para" type="string" vector="true"/>
	</command>
	
	<command name="CurrentTask" type="146" receiver="client">
		<variable name="current" type="RoleCurrentTask" vector="true"/>
	</command>
	
	<command name="FinishedTask" type="147" receiver="client">
		<variable name="finish" type="number" vector="true"/>
	</command>
	
	<command name="GetTask" maxsize="1024" type="148" receiver="gamed">
	</command>

	<command name="ItemCountChange" type="149" receiver="client">
		<variable name="itemid" type="number"/>
		<variable name="count" type="number"/>
	</command>
	
	<command name="HeroUpgradeSkill" maxsize="1024" type="150" receiver="gamed">
		<variable name="hero_id" type="number"/>
		<variable name="skill_info" type="UpgradeSkillInfo" vector="true"/>
	</command>
	
	<command name="HeroUpgradeSkill_Re" type="151" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="GetHeroComments" maxsize="1024" type="152" receiver="gamed" lock="misc">
		<variable name="hero_id" type="number"/>
	</command>
	
	<command name="GetHeroComments_Re" type="153" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="comment" type="HeroComment" vector="true"/>
		<variable name="hero_id" type="number"/>
	</command>
	
	<command name="AgreeHeroComments" maxsize="1024" type="154" receiver="gamed" lock="misc">
		<variable name="hero_id" type="number"/>
		<variable name="role_id" type="string"/>
		<variable name="time_stamp" type="number"/>
	</command>
	
	<command name="AgreeHeroComments_Re" type="155" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero_id" type="number"/>
		<variable name="role_id" type="string"/>
		<variable name="time_stamp" type="number"/>
	</command>
	
	<command name="WriteHeroComments" maxsize="1024" type="156" receiver="gamed" lock="misc">
		<variable name="hero_id" type="number"/>
		<variable name="comments" type="string"/>
	</command>
	
	<command name="WriteHeroComments_Re" type="157" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero_id" type="number"/>
	</command>
	
	<command name="ReWriteHeroComments" maxsize="1024" type="158" receiver="gamed" lock="misc">
		<variable name="hero_id" type="number"/>
		<variable name="comments" type="string"/>
	</command>
	
	<command name="ReWriteHeroComments_Re" type="159" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero_id" type="number"/>
	</command>
	
	<command name="UpdateHeroSkillPoint" type="160" receiver="client">
		<variable name="point" type="number"/>
	</command>
	
	<command name="GetVPRefreshTime" maxsize="1024" type="161" receiver="gamed">
	</command>

	<command name="GetVPRefreshTime_Re" type="162" receiver="client">
		<variable name="refresh_time" type="number"/>
	</command>
	
	<command name="GetSkillPointRefreshTime" maxsize="1024" type="163" receiver="gamed">
	</command>
	
	<command name="GetSkillPointRefreshTime_Re" type="164" receiver="client">
		<variable name="refresh_time" type="number"/>
	</command>
	
	<command name="RoleLogin" maxsize="1024" type="165" receiver="gamed">
	</command>
	
	<command name="BuySkillPoint" maxsize="1024" type="166" receiver="gamed">
	</command>

	<command name="BuySkillPoint_Re" type="167" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="point" type="number"/>
	</command>
	
	<command name="UpdatePvpVideo" type="168" receiver="client">
		<variable name="video" type="string"/>
		<variable name="player1" type="RoleClientPVPInfo"/>
		<variable name="player2" type="RoleClientPVPInfo"/>
		<variable name="win_flag" type="number"/>
		<variable name="time" type="number"/>
	</command>
	
	<command name="GetVideo" maxsize="1024" type="169" receiver="gamed">
		<variable name="video_id" type="string"/>
	</command>
	
	<command name="GetVideo_Re" type="170" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="player1" type="RoleClientPVPInfo"/>
		<variable name="player2" type="RoleClientPVPInfo"/>
		<variable name="operation" type="PvpVideo"/>
		<variable name="win_flag" type="number"/>
	</command>
	
	<command name="PrivateChatHistory" type="171" receiver="client">
		<variable name="private_chat" type="ChatInfo" vector="true"/>
	</command>

	<command name="AddBlackList" maxsize="1024" type="172" receiver="gamed" extra_roles_max="1">
		<variable name="roleid" type="string"/>
	</command>
	
	<command name="AddBlackList_Re" type="173" receiver="client">
		<variable name="roleinfo" type="RoleBase"/>
	</command>

	<command name="DelBlackList" maxsize="1024" type="174" receiver="gamed">
		<variable name="roleid" type="string"/>
	</command>
	
	<command name="DelBlackList_Re" type="175" receiver="client">
		<variable name="roleid" type="string"/>
	</command>
	
	<command name="SeeAnotherRole" maxsize="1024" type="176" receiver="gamed" extra_roles_max="1">
		<variable name="roleid" type="string"/>
	</command>
	
	<command name="SeeAnotherRole_Re" type="177" receiver="client">
		<variable name="roleinfo" type="AnotherRoleData"/>
	</command>

	<command name="GetPrivateChatHistory" maxsize="1024" type="178" receiver="gamed">
	</command>

	<command name="ReadMail" maxsize="1024" type="179" receiver="gamed">
		<variable name="mail_id" type="number"/>
	</command>
	
	<command name="ReadMail_Re" type="180" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<command name="GetAttachment" maxsize="1024" type="181" receiver="gamed">
		<variable name="mail_id" type="number"/>
	</command>
	
	<command name="GetAttachment_Re" type="182" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="UpdateMail" type="183" receiver="client">
		<variable name="mail_info" type="MailInfo" />
	</command>
	
	<command name="UpdatePvpEndTime" type="184" receiver="client">
		<variable name="end_time" type="number" />
	</command>
	
	<command name="UpdateHeroPvpInfo" type="185" receiver="client">
		<variable name="hero_pvpinfo" type="HeroPvpInfoData" vector="true"/>
	</command>
	
	<command name="DeleteTask" type="186" receiver="client">
		<variable name="task_id" type="number"/>
	</command>

	<command name="BroadcastPvpVideo" maxsize="1024" type="187" receiver="gamed">
		<variable name="typ" type="number"/>
		<variable name="video_id" type="string"/>
		<variable name="content" type="string"/>
	</command>
	
	<command name="BroadcastPvpVideo_Re" type="188" receiver="client">
		<variable name="typ" type="number"/>
		<variable name="src" type="RoleBrief"/>
		<variable name="content" type="string"/>
		<variable name="video_id" type="string"/>
		<variable name="player1" type="RoleClientPVPInfo"/>
		<variable name="player2" type="RoleClientPVPInfo"/>
		<variable name="time" type="number"/>
		<variable name="win_flag" type="number"/>
	</command>
	
	<command name="ChangeHeroSelectSkill" maxsize="1024" type="189" receiver="gamed">
		<variable name="hero_id" type="number"/>
		<variable name="skill_id" type="number" vector="true"/>
	</command>
	
	<command name="ChangeHeroSelectSkill_Re" type="190" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero_id" type="number"/>
		<variable name="skill_id" type="number" vector="true"/>
	</command>
	
	<command name="UpdatePvpInfo" type="191" receiver="client">
		<variable name="join_count" type="number"/>
		<variable name="win_count" type="number"/>
	</command>
	
	<command name="UpdateRep" type="192" receiver="client">
		<variable name="rep_id" type="number"/>
		<variable name="rep_num" type="number"/>
	</command>
	
	<command name="MallBuyItem" maxsize="1024" type="193" receiver="gamed">
		<variable name="item_id" type="number"/>
		<variable name="item_num" type="number"/>
	</command>
	
	<command name="MallBuyItem_Re" type="194" receiver="client">
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="UpdatePvpStar" type="195" receiver="client">
		<variable name="typ" type="number"/>
		<variable name="star" type="number"/>
	</command>
	
	<command name="UpdateHeroSoul" type="197" receiver="client">
		<variable name="soul_id" type="number"/>
		<variable name="soul_num" type="number"/>
	</command>
	
	<command name="LevelUpHeroStar" maxsize="1024" type="198" receiver="gamed">
		<variable name="hero_id" type="number"/>
	</command>
	
	<command name="LevelUpHeroStar_Re" type="199" receiver="client">
		<variable name="hero_id" type="number"/>
		<variable name="retcode" type="number"/>
	</command>
	
	<command name="ClearHeroPvpInfo" type="200" receiver="client">
	</command>
	
	<command name="UpdateMysteryShopInfo" type="201" receiver="client">
		<variable name="shop_id" type="number"/>
		<variable name="refresh_time" type="number"/>
		<variable name="shop_item" type="MysteryShopItem" vector="true"/>
	</command>
	
	<command name="MysteryShopBuyItem" maxsize="1024" type="202" receiver="gamed">
		<variable name="shop_id" type="number"/>
		<variable name="position" type="number"/>
		<variable name="item_id" type="number"/>
	</command>
	
	<command name="MysteryShopBuyItem_Re" type="203" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="shop_id" type="number"/>
		<variable name="position" type="number"/>
		<variable name="item_id" type="number"/>
		<variable name="buy_count" type="number"/>
	</command>
	
	<command name="RefreshMysteryShop" maxsize="1024" type="204" receiver="gamed">
		<variable name="shop_id" type="number"/>
	</command>
	
	<command name="RefreshMysteryShop_Re" type="205" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="shop_id" type="number"/>
	</command>
	
	<command name="ResetBattleField" maxsize="1024" type="206" receiver="gamed">
		<variable name="battle_id" type="number"/>
		<variable name="typ" type="number"/>
	</command>
	
	<command name="ResetBattleField_Re" type="207" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="typ" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="battle_info" type="BattleInfo"/>
	</command>
	
	<command name="BattleFieldBegin" maxsize="1024" type="208" receiver="gamed">
		<variable name="battle_id" type="number"/>
		<variable name="heros" type="BattleHeroInfo" vector="true"/>
	</command>
	
	<command name="BattleFieldBegin_Re" type="209" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
	</command>
	
	<command name="BattleFieldMove" maxsize="1024" type="210" receiver="gamed">
		<variable name="battle_id" type="number"/>
		<variable name="src_id" type="number"/>
		<variable name="src_position" type="number"/>
		<variable name="dst_id" type="number"/>
		<variable name="dst_position" type="number"/>
	</command>
	
	<command name="BattleFieldMove_Re" type="211" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="src_id" type="number"/>
		<variable name="src_position" type="number"/>
		<variable name="dst_id" type="number"/>
		<variable name="dst_position" type="number"/>
	</command>
	
	<command name="BattleFieldJoinBattle" maxsize="1024" type="212" receiver="gamed">
		<variable name="battle_id" type="number"/>
		<variable name="npc_id" type="number"/>
	</command>
	
	<command name="BattleFieldJoinBattle_Re" type="213" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="npc_id" type="number"/>
	</command>
	
	<command name="BattleFieldFinishBattle" maxsize="1024" type="214" receiver="gamed">
		<variable name="battle_id" type="number"/>
		<variable name="win_flag" type="number" comments="1代表获胜，2代表失败，3代表中间放弃"/>
		<variable name="npc_id" type="number"/>
		<variable name="heros" type="BattleHeroInfo" vector="true"/>
	</command>
	
	<command name="BattleFieldFinishBattle_Re" type="215" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="win_flag" type="number" comments="1代表获胜，2代表失败，3代表中间放弃"/>
		<variable name="fail_flag" type="number" comments="0代表战役还没有失败，1代表这次战役已经失败了"/>
		<variable name="npc_id" type="number"/>
		<variable name="heros" type="BattleHeroInfo" vector="true"/>
		<variable name="rewards" type="SweepInstanceData"/>
	</command>
	
	<command name="BattleFieldEnd" type="216" receiver="client">
		<variable name="battle_id" type="number"/>
		<variable name="win_flag" type="number"/>
		<variable name="rewards" type="SweepInstanceData"/>
	</command>

	<command name="BattleFieldGetPrize" maxsize="1024" type="217" receiver="gamed">
		<variable name="battle_id" type="number"/>
	</command>
	
	<command name="BattleFieldGetPrize_Re" type="218" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="rewards" type="SweepInstanceData"/>
	</command>

	<command name="SetInstanceHeroInfo" maxsize="1024" type="219" receiver="gamed">
		<variable name="typ" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="heros" type="number" vector="true"/>
		<variable name="horse" type="number"/>
	</command>

	<command name="SetInstanceHeroInfo_Re" type="220" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="typ" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="heros" type="number" vector="true"/>
		<variable name="horse" type="number"/>
	</command>

	<command name="Lottery" maxsize="1024" type="221" receiver="gamed">
		<variable name="lottery_id" type="number"/>
		<variable name="cost_type" type="number"/>
	</command>
			
	<command name="Lottery_Re" type="222" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="lottery_id" type="number"/>
		<variable name="reward_ids" type="LotteryRewardInfo" vector="true"/>
	</command>
	

	<command name="GetBattleFieldInfo" maxsize="1024" type="223" receiver="gamed">
		<variable name="battle_id" type="number"/>
	</command>

	<command name="GetBattleFieldInfo_Re" type="224" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="battle_info" type="BattleInfo"/>
	</command>

	<command name="ChangeBattleState" type="225" receiver="client">
		<variable name="battle_id" type="number"/>
		<variable name="state" type="number"/>
	</command>

	<command name="BattleFieldCancel" maxsize="1024" type="226" receiver="gamed">
		<variable name="battle_id" type="number"/>
	</command>
	
	<command name="BattleFieldCancel_Re" type="227" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="position" type="number"/>
	</command>

	<command name="BattleFieldGetEvent" maxsize="1024" type="228" receiver="gamed">
		<variable name="battle_id" type="number"/>
	</command>
	
	<command name="BattleFieldGetEvent_Re" type="229" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="event" type="number"/>
		<variable name="event_info" type="BattleEventInfo"/>
	</command>

	<command name="BattleFieldCapturedPosition" type="230" receiver="client">
		<variable name="battle_id" type="number"/>
		<variable name="position_info" type="BattlePositionInfo"/>
		<variable name="event" type="number"/>
		<variable name="event_info" type="BattleEventInfo"/>
	</command>

	<command name="GetCurBattleField" maxsize="1024" type="231" receiver="gamed">
	</command>

	<command name="GetCurBattleField_Re" type="232" receiver="client">
		<variable name="battle_id" type="number"/>
		<variable name="state" type="number"/>
	</command>
	
	<command name="BattleFieldFinishEvent" maxsize="1024" type="233" receiver="gamed">
		<variable name="battle_id" type="number"/>
	</command>
	
	<command name="BattleFieldFinishEvent_Re" type="234" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="battle_id" type="number"/>
		<variable name="join_battle_flag" type="number"/>
		<variable name="event" type="number"/>
	</command>
	
	<command name="GiveUpCurBattleField" maxsize="1024" type="235" receiver="gamed">
	</command>

	<command name="GiveUpCurBattleField_Re" type="236" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<command name="GetRefreshTime" maxsize="1024" type="237" receiver="gamed">
		<variable name="typ" type="number"/>
	</command>
			
	<command name="GetRefreshTime_Re" type="238" receiver="client">
		<variable name="typ" type="number"/>
		<variable name="last_refreshtime" type="number"/>
	</command>
	
	<command name="DailySign" maxsize="1024" type="239" receiver="gamed">
		<variable name="typ" type="number" comments="0代表的是正常的签到，1代表的是补签"/>
	</command>
			
	<command name="DailySign_Re" type="240" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="typ" type="number" comments="0代表的是正常的签到，1代表的是补签"/>
		<variable name="item" type="Item"/>
	</command>

	<!--竞技场的相关协议--> 
	
	<command name="GetMyPveArenaInfo" maxsize="1024" type="241" receiver="gamed" lock="pvearena">
	</command>
			
	<command name="GetMyPveArenaInfo_Re" type="242" receiver="client">
		<variable name="score" type="number" comments="积分"/>
		<variable name="rank" type="number" comments="名次"/>
		<variable name="defence_hero" type="number" vector="true" comments="防守武将"/>
		<variable name="last_attack_time" type="number" comments="玩家上次的挑战时间"/>
	</command>
	
	<command name="GetOtherPveArenaInfo" maxsize="1024" type="243" receiver="gamed" extra_roles_max="1" lock="pvearena">
		<variable name="roleid" type="string"/>
	</command>
			
	<command name="GetOtherPveArenaInfo_Re" type="244" receiver="client">
		<variable name="info" type="PveArenaFighterInfo" comments="玩家信息"/>
	</command>
	
	<command name="GetFighterInfo" maxsize="1024" type="245" receiver="gamed" lock="pvearena">
	</command>
			
	<command name="GetFighterInfo_Re" type="246" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="fightinfo" type="PveArenaFighterInfo" vector="true"/>
	</command>
	
	<command name="PveArenaJoinBattle" maxsize="1024" type="247" receiver="gamed" lock="pvearena">
		<variable name="rank" type="number" comments="你要进攻的名次"/>
	</command>
			
	<command name="PveArenaJoinBattle_Re" type="248" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="last_attack_time" type="number"/>
		<variable name="role_info" type="PveArenaFighterInfo" comments="对面的信息"/>
	</command>
	
	<command name="PveArenaEndBattle" maxsize="1024" type="249" receiver="gamed" lock="pvearena">
		<variable name="win_flag" type="number"/>
		<variable name="operation" type="PveArenaOperation"/>
	</command>
			
	<command name="PveArenaEndBattle_Re" type="250" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="score_change" type="number"/>
		<variable name="item" type="Item" vector="true"/>
	</command>
	
	<!--重置JJC的时间CD-->
	<command name="PveArenaResetTime" maxsize="1024" type="251" receiver="gamed">
	</command>
			
	<command name="PveArenaResetTime_Re" type="252" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="last_time" type="number"/>
	</command>

	<!--购买JJC的次数-->
	<command name="PveArenaResetCount" maxsize="1024" type="253" receiver="gamed">
	</command>
			
	<command name="PveArenaResetCount_Re" type="254" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<!--使用道具挑战玩家-->
	<command name="ChallengeRoleByItem" maxsize="1024" type="255" receiver="gamed" extra_roles_max="1">
		<variable name="roleid" type="string" comments="你要进攻玩家的ID"/>
		<variable name="name" type="string" comments="你要进攻玩家的名字"/>
	</command>
			
	<command name="ChallengeRoleByItem_Re" type="256" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="role_info" type="PveArenaFighterInfo" comments="对面的武将阵容"/>
	</command>

	<!--得到自己的历史记录-->
	<command name="GetPveArenaHistory" maxsize="1024" type="257" receiver="gamed">
	</command>
			
	<command name="GetPveArenaHistory_Re" type="258" receiver="client">
		<variable name="hisroty_info" type="RolePveArenaHistoryInfo" vector="true"/>
		<variable name="retcode" type="number"/>
	</command>

	<!--回放战斗记录-->
	<command name="GetPveArenaOperation" maxsize="1024" type="259" receiver="gamed">
		<variable name="id" type="number"/>
	</command>
			
	<command name="GetPveArenaOperation_Re" type="260" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="self_hero_info" type="RolePveArenaInfo"/>
		<variable name="oppo_hero_info" type="RolePveArenaInfo"/>
		<variable name="operation" type="PveArenaOperation"/>
	</command>

	<!--设置JJC防守阵容-->
	<command name="SetPveArenaHero" maxsize="1024" type="261" receiver="gamed">
		<variable name="heros" type="number" vector="true"/>
	</command>
			
	<command name="SetPveArenaHero_Re" type="262" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<!--技能重置-->	
	<command name="ResetSkilllevel" maxsize="1024" type="263" receiver="gamed">
		<variable name="hero_id" type="number"/>
	</command>
	<command name="ResetSkilllevel_Re" type="264" receiver="client">
		<variable name="retcode" type="number"/>
	</command>


	<!--武将武器相关协议-->

	<!--装备武器-->
	<command name="WeaponEquip" maxsize="1024" type="265" receiver="gamed">
		<variable name="hero" type="number"/>
		<variable name="weapon_id" type="number"/>
	</command>
			
	<command name="WeaponEquip_Re" type="266" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<!--升级武器-->
	<command name="WeaponLevelUp" maxsize="1024" type="267" receiver="gamed">
		<variable name="hero" type="number"/>
		<variable name="weapon_id" type="number"/>
	</command>
			
	<command name="WeaponLevelUp_Re" type="268" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero" type="number"/>
		<variable name="weapon_id" type="number"/>
		<variable name="crit_flag" type="number"/>
	</command>

	<!--强化武器-->
	<command name="WeaponStrength" maxsize="1024" type="269" receiver="gamed">
		<variable name="hero" type="number"/>
		<variable name="weapon_id" type="number"/>
	</command>
			
	<command name="WeaponStrength_Re" type="270" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="hero" type="number"/>
		<variable name="weapon_id" type="number"/>
		<variable name="crit_flag" type="number"/>
	</command>

	<!--分解武器-->
	<command name="WeaponDecompose" maxsize="1024" type="271" receiver="gamed">
		<variable name="weapon_id" type="number"/>
	</command>
			
	<command name="WeaponDecompose_Re" type="272" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="money" type="number"/>
		<variable name="item_info" type="Item" vector="true"/>
	</command>

	<!--卸下武器-->
	<command name="WeaponUnequip" maxsize="1024" type="273" receiver="gamed">
		<variable name="hero" type="number"/>
	</command>
			
	<command name="WeaponUnequip_Re" type="274" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<!--添加武器-->
	<command name="WeaponAdd" type="275" receiver="client">
		<variable name="weapon_info" type="WeaponItem"/>
	</command>

	<!--删除武器-->
	<command name="WeaponDel" type="276" receiver="client">
		<variable name="id" type="number"/>
	</command>

	<!--更新武器-->
	<command name="WeaponUpdate" type="277" receiver="client">
		<variable name="weapon_info" type="WeaponItem"/>
	</command>

	<!--更新抽奖信息-->
	<command name="LotteryUpdate" type="278" receiver="client">
		<variable name="typ" type="number"/>
		<variable name="flag" type="number"/>
	</command>

	<!--武者试炼的协议信息-->

	<!--得到武者试炼的难度信息-->
	<command name="WuZheShiLianGetDifficultyInfo" maxsize="1024" type="279" receiver="gamed">
	</command>
	

	<command name="WuZheShiLianGetDifficultyInfo_Re" type="280" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="cur_difficulty" type="number" comments="当前选择进攻的难度，0代表没有"/>
		<variable name="high_difficulty" type="number" comments="打通的最高难度,0代表没有"/>
		<variable name="difficulty_info" type="DifficultyInfo" vector="true" comments="难度的信息"/>
	</command>

	<!--武者试炼选择难度-->
	<command name="WuZheShiLianSelectDifficulty" maxsize="1024" type="281" receiver="gamed">
		<variable name="_camp" type="number"/>
	</command>
			
	<command name="WuZheShiLianSelectDifficulty_Re" type="282" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="opponent_info" type="OpponentInfo" vector="true" comments="对手的信息"/> 	
	</command>

	<!--得到武者试炼的对手信息-->
	<command name="WuZheShiLianGetOpponentInfo" maxsize="1024" type="283" receiver="gamed">
	</command>
			
	<command name="WuZheShiLianGetOpponentInfo_Re" type="284" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="opponent_info" type="OpponentInfo" vector="true" comments="对手的信息"/>
	</command>

	<!--武者试炼得到自己的武将信息-->
	<command name="WuZheShiLianGetHeroInfo" maxsize="1024" type="285" receiver="gamed">
	</command>
	
	<!--这个协议在重置试炼以后也会发送的-->
	<command name="WuZheShiLianGetHeroInfo_Re" type="286" receiver="client">
		<variable name="dead_hero" type="number" vector="true" comments="已经死亡的武将"/>
		<variable name="injured_hero" type="InjuredHeroInfo" vector="true" comments="受伤的武将"/>
	</command>


	<!--武者试炼进入战斗-->
	<command name="WuZheShiLianJoinBattle" maxsize="1024" type="287" receiver="gamed">
		<variable name="difficulty" type="number"/>
		<variable name="stage" type="number"/>
		<variable name="hero" type="number" vector="true" comments="选择进入战斗的武将"/>
	</command>
			
	<command name="WuZheShiLianJoinBattle_Re" type="288" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<!--武者试炼结束战斗-->
	<command name="WuZheShiLianFinishBattle" maxsize="1024" type="289" receiver="gamed">
		<variable name="difficulty" type="number"/>
		<variable name="stage" type="number"/> 
		<variable name="hero" type="ShiLianHeroInfo" vector="true" comments="武将的信息"/>
		<variable name="opponent" type="OpponentInfo" comments="武将的信息"/>
	</command>
			
	<command name="WuZheShiLianFinishBattle_Re" type="290" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="money" type="number"/>
		<variable name="rewards" type="Item" vector="true"/>
	</command>

	<!--武者试炼重置-->
	<command name="WuZheShiLianReset" maxsize="1024" type="291" receiver="gamed">
	</command>
			
	<command name="WuZheShiLianReset_Re" type="292" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

<!--
	<command name="ListPrivateChat" maxsize="1024" type="10001" receiver="gamed"/>
	<command name="ListPrivateChat_Re" type="10002" receiver="client">
		<variable name="chats" type="Chat" vector="true"/>
	</command>
-->
	
	<command name="PrivateChat" maxsize="1024" type="10003" receiver="gamed,client" extra_roles_max="1">
		<variable name="src" type="RoleBrief"/>
		<variable name="dest" type="RoleBrief"/>
		<variable name="dest_id" type="string"/>
		<variable name="content" type="string"/>
		<variable name="time" type="number"/>
	</command>
	
	<command name="PublicChat" maxsize="1024" type="10004" receiver="gamed,client">
		<variable name="src" type="RoleBrief"/>
		<variable name="content" type="string"/>
		<variable name="time" type="number"/>
	</command>

	<command name="ListFriends" maxsize="1024" type="10006" receiver="gamed"/>
	<command name="ListFriends_Re" type="10007" receiver="client">
		<variable name="friends" type="Friend" vector="true"/>
		<variable name="requests" type="Friend" vector="true"/>
	</command>
	<command name="FriendRequest" maxsize="1024" type="10008" receiver="gamed,client" extra_roles_max="1">
		<variable name="dest_id" type="string"/>
		<variable name="src" type="Friend"/>
	</command>
	<command name="FriendReply" maxsize="1024" type="10009" receiver="gamed" extra_roles_max="1">
		<variable name="src_id" type="string"/>
		<variable name="accept" type="boolean"/>
	</command>
	<command name="NewFriend" type="10010" receiver="client">
		<variable name="friend" type="Friend"/>
	</command>

<!--
	<command name="RemoveFriend" maxsize="1024" type="10011" receiver="gamed">
		<variable name="dest_id" type="string"/>
	</command>
	<command name="RemoveFriend_Re" type="10012" receiver="client">
		<variable name="dest_id" type="string"/>
	</command>
-->



	<command name="MafiaGet" type="10101" receiver="gamed" maxsize="1024" extra_mafias_max="1"/>
	<command name="MafiaGet_Re" type="10102" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="mafia" type="Mafia"/>
	</command>

	<command name="MafiaCreate" type="10103" receiver="gamed" maxsize="1024">
		<variable name="name" type="string"/>
		<variable name="flag" type="number"/>
	</command>
	<command name="MafiaCreate_Re" type="10104" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="mafia" type="Mafia"/>
	</command>

	<command name="MafiaInvite" type="10105" receiver="gamed,client" maxsize="1024" extra_roles_max="1" extra_mafias_max="1">
		<variable name="dest_id" type="string"/>
		<variable name="src" type="RoleBrief"/>
	</command>
	<command name="MafiaReply" type="10106" receiver="gamed" maxsize="1024" extra_roles_max="1" extra_mafias_max="1">
		<variable name="src_id" type="string"/>
		<variable name="accept" type="boolean"/>
	</command>
	<command name="MafiaAddMember" type="10107" receiver="client">
		<variable name="member" type="RoleBrief"/>
	</command>
	<command name="MafiaUpdate" type="10108" receiver="client">
		<variable name="mafia" type="Mafia"/>
	</command>

<!--
	<command name="MafiaList" type="10101" receiver="gamed" maxsize="1024" extra_mafias_max="1"/>
	<command name="MafiaList_Re" type="10102" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="mafias" type="MafiaBrief"/>
	</command>

	<command name="MafiaApply" type="10105" receiver="gamed,client" maxsize="1024" extra_roles_max="1" extra_mafias_max="1">
		<variable name="dest_id" type="string"/>
		<variable name="src" type="RoleBrief"/>
	</command>
	<command name="MafiaApply_Re" type="10106" receiver="gamed" maxsize="1024">
		<variable name="src_id" type="string"/>
		<variable name="accept" type="boolean"/>
	</command>
	<command name="MafiaProcessApply" type="10105" receiver="gamed,client" maxsize="1024" extra_roles_max="1" extra_mafias_max="1">
		<variable name="dest_id" type="string"/>
		<variable name="src" type="RoleBrief"/>
	</command>
	<command name="MafiaProcessApply_Re" type="10106" receiver="gamed" maxsize="1024">
		<variable name="src_id" type="string"/>
		<variable name="accept" type="boolean"/>
	</command>
-->

	<command name="MafiaKickout" type="10109" receiver="gamed" maxsize="1024" extra_roles_max="1" extra_mafias_max="1">
		<variable name="dest_id" type="string"/>
	</command>
	<command name="MafiaKickout_Re" type="10110" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="dest_id" type="string"/>
	</command>
	<command name="MafiaLoseMember" type="10111" receiver="client">
		<variable name="member" type="RoleBrief"/>
	</command>

	<command name="MafiaQuit" type="10112" receiver="gamed" maxsize="1024" extra_mafias_max="1"/>
	<command name="MafiaQuit_Re" type="10113" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<command name="MafiaDestory" type="10114" receiver="gamed" maxsize="1024" extra_mafias_max="1"/>
	<command name="MafiaDestory_Re" type="10115" receiver="client">
		<variable name="retcode" type="number"/>
	</command>

	<command name="MafiaAnnounce" type="10116" receiver="gamed" maxsize="1024" extra_mafias_max="1">
		<variable name="announce" type="string"/>
	</command>
	<command name="MafiaAnnounce_Re" type="10117" receiver="client">
		<variable name="retcode" type="number"/>
		<variable name="announce" type="string"/>
	</command>



	<command name="Ping" type="10201" receiver="gamed" maxsize="1024">
		<variable name="client_send_time" type="number"/>
	</command>
	<command name="Ping_Re" type="10202" receiver="client">
		<variable name="client_send_time" type="number"/>
	</command>

	<command name="UDPPing" type="10203" receiver="gamed" maxsize="1024">
		<variable name="client_send_time" type="number"/>
	</command>
	<command name="UDPPing_Re" type="10204" receiver="client">
		<variable name="client_send_time" type="number"/>
	</command>



	<command name="PVPInvite" type="10301" receiver="gamed,client" maxsize="1024" extra_roles_max="1">
		<variable name="dest_id" type="string"/>
		<variable name="src" type="RoleBrief"/>
		<variable name="mode" type="number"/>
	</command>
	<command name="PVPReply" type="10302" receiver="gamed" maxsize="1024" extra_roles_max="1">
		<variable name="src_id" type="string"/>
		<variable name="accept" type="boolean"/>
	</command>
	<command name="PVPPrepare" type="10303" receiver="client">
		<variable name="id" type="number"/>
		<variable name="player1" type="RoleBrief"/>
		<variable name="player2" type="RoleBrief"/>
		<variable name="N" type="number"/>
		<variable name="mode" type="number"/>
		<variable name="p2p_magic" type="number"/>
		<variable name="p2p_peer_ip" type="string"/>
		<variable name="p2p_peer_port" type="number"/>
	</command>
	<!-- ban/select/... -->
	<command name="PVPReady" maxsize="1024" type="10304" receiver="gamed" extra_pvps_max="1"/>
	<command name="PVPBegin" type="10305" receiver="client">
		<variable name="fight_start_time" type="number"/>
		<variable name="ip" type="string"/>
		<variable name="port" type="number"/>
	</command>

	<command name="PVPOperation" maxsize="1024" type="10306" receiver="gamed,client" extra_roles_max="1" extra_pvps_max="1">
		<variable name="client_tick" type="number"/>
		<variable name="op" type="string"/>
		<variable name="crc" type="string"/>
	</command>
	<command name="PVPOperationSet" type="10307" receiver="client">
		<variable name="client_tick" type="number"/>
		<variable name="player1_op" type="string"/>
		<variable name="player2_op" type="string"/>
	</command>

	<command name="PVPEnd" maxsize="1024" type="10308" receiver="gamed,client" extra_pvps_max="1">
		<variable name="result" type="number"/>
		<variable name="typ" type="number"/>
		<variable name="pvp_typ" type="number"/>
		<variable name="star" type="number"/>
		<variable name="win_count" type="number"/>
	</command>
	
	<command name="PVPError" type="10309" receiver="client">
		<variable name="result" type="number"/>
	</command>

	<command name="PVPPeerLatency" maxsize="1024" type="10310" receiver="gamed,client" extra_roles_max="1" extra_pvps_max="1">
		<variable name="latency" type="number"/>
	</command>

	<command name="ReportClientVersion" type="10401" receiver="gamed" maxsize="1024" lock="misc">
		<variable name="client_id" type="string"/>
		<variable name="exe_ver" type="string"/>
		<variable name="data_ver" type="string"/>
	</command>

	<command name="TopListGet" type="20000" receiver="gamed" maxsize="1024" lock="toplist">
		<variable name="top_type" type="number"/>
		<variable name="top_flag" type="number"/>
	</command>
	<command name="TopListGet_Re" type="20001" receiver="client">
		<variable name="top_type" type="number"/>
		<variable name="top_flag" type="number"/>
		<variable name="retcode" type="number"/>
		<variable name="members" type="TopListData" vector="true"/>
	</command>
	




	<command name="DebugCommand" maxsize="1024" type="99999" receiver="gamed" lock="singleton">
		<variable name="typ" type="string"/>
		<variable name="count1" type="number"/>
		<variable name="count2" type="number"/>
		<variable name="count3" type="number"/>
		<variable name="count4" type="number"/>
	</command>
</commands>

